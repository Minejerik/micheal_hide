[gd_scene load_steps=6 format=3 uid="uid://bhxf1mfq2ad8a"]

[ext_resource type="Texture2D" uid="uid://b65pcrvcajssa" path="res://assets/box.png" id="1_g2tbl"]
[ext_resource type="Script" uid="uid://c1mdow0efvu1f" path="res://scripts/box.gd" id="1_tf0hf"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oq5cr"]
size = Vector2(16, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_g2tbl"]
cull_mode = 1
polygon = PackedVector2Array(-8, -8, -8, 8, 8, 8, 8, -8)

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_tf0hf"]
particle_flag_disable_z = true
angle_min = -79.19999
angle_max = 64.80001
spread = 180.0
initial_velocity_max = 40.0
gravity = Vector3(0, 0, 0)
linear_accel_min = -7.000002
linear_accel_max = 19.999998
radial_accel_min = -6.000002
radial_accel_max = 14.999997
tangential_accel_min = -6.000002
tangential_accel_max = 17.999998

[node name="box" type="RigidBody2D"]
texture_filter = 1
collision_layer = 3
mass = 0.5
lock_rotation = true
linear_damp = 5.0
script = ExtResource("1_tf0hf")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_oq5cr")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture_filter = 1
texture = ExtResource("1_g2tbl")

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_g2tbl")

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="."]
radius = 9.17
affect_navigation_mesh = true

[node name="BreakParticles" type="GPUParticles2D" parent="."]
emitting = false
amount = 2
texture = ExtResource("1_g2tbl")
lifetime = 0.5
one_shot = true
process_material = SubResource("ParticleProcessMaterial_tf0hf")

[connection signal="finished" from="BreakParticles" to="." method="_on_break_particles_finished"]
